{"ast":null,"code":"var _jsxFileName = \"/Users/cor-eee/Projects/jct-next/pages/[name]/[site].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../../components/Layout';\nimport MobileLayout from '../../components/MobileLayout';\nimport Details from '../../components/Details';\nexport default class Site extends Component {\n  static async getInitialProps(ctx) {\n    const {\n      name,\n      site\n    } = ctx.query;\n    const res = await fetch(`http://jct-systems.com/api/${name}/${site}`);\n    const json = await res.json();\n    let isMobileView = ctx.req.headers['user-agent'].search(/Android|iPhone/i);\n\n    if (isMobileView < 0) {\n      return {\n        isMobileView: false,\n        equipment: json[1]\n      };\n    } else {\n      return {\n        isMobileView: true,\n        equipment: json[1]\n      };\n    }\n  }\n\n  render() {\n    // console.log(this.props);\n    return __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    }, \"HELL\") // this.props.isMobileView ?\n    // <MobileLayout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n    //     {\n    //       this.props.equipment.map(equip => (\n    //         <Details \n    //         key={equip.id} \n    //         name={equip.name}\n    //         currentValue={equip.currentLevel}\n    //         totalValue={equip.totalLevel}\n    //         alarmOn={equip.on_level}\n    //         alarmOff={equip.off_level}\n    //         mon={equip.monValue}\n    //         tue={equip.tueValue}\n    //         wed={equip.wedValue}\n    //         thu={equip.thuValue}\n    //         fri={equip.friValue}\n    //         sat={equip.satValue}\n    //         sun={equip.sunValue}\n    //         />\n    //         ))\n    //     }\n    //   </MobileLayout>\n    // :\n    //   <Layout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n    //     {\n    //       this.props.equipment.map(equip => (\n    //         <Details \n    //         key={equip.id} \n    //         name={equip.name}\n    //         currentValue={equip.currentLevel}\n    //         totalValue={equip.totalLevel}\n    //         alarmOn={equip.on_level}\n    //         alarmOff={equip.off_level}\n    //         mon={equip.monValue}\n    //         tue={equip.tueValue}\n    //         wed={equip.wedValue}\n    //         thu={equip.thuValue}\n    //         fri={equip.friValue}\n    //         sat={equip.satValue}\n    //         sun={equip.sunValue}\n    //         />\n    //         ))\n    //     }\n    //   </Layout>\n    ;\n  }\n\n}","map":{"version":3,"sources":["/Users/cor-eee/Projects/jct-next/pages/[name]/[site].js"],"names":["Component","fetch","Layout","MobileLayout","Details","Site","getInitialProps","ctx","name","site","query","res","json","isMobileView","req","headers","search","equipment","render"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AAGA,eAAe,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAE1C,eAAaM,eAAb,CAA6BC,GAA7B,EAAiC;AAC/B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAiBF,GAAG,CAACG,KAA3B;AACA,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAAE,8BAA6BO,IAAK,IAAGC,IAAK,EAA5C,CAAvB;AACA,UAAMG,IAAI,GAAG,MAAMD,GAAG,CAACC,IAAJ,EAAnB;AAEA,QAAIC,YAAY,GAAGN,GAAG,CAACO,GAAJ,CAAQC,OAAR,CAAgB,YAAhB,EAA8BC,MAA9B,CAAqC,iBAArC,CAAnB;;AAGA,QAAGH,YAAY,GAAG,CAAlB,EAAoB;AAClB,aAAO;AACLA,QAAAA,YAAY,EAAE,KADT;AAELI,QAAAA,SAAS,EAAEL,IAAI,CAAC,CAAD;AAFV,OAAP;AAID,KALD,MAKO;AACL,aAAO;AACLC,QAAAA,YAAY,EAAE,IADT;AAELI,QAAAA,SAAS,EAAEL,IAAI,CAAC,CAAD;AAFV,OAAP;AAID;AACF;;AAEDM,EAAAA,MAAM,GAAE;AAEN;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAEI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CJ;AA+CD;;AA1EyC","sourcesContent":["import { Component } from 'react'\nimport fetch from 'isomorphic-unfetch'\n\nimport Layout from '../../components/Layout'\nimport MobileLayout from '../../components/MobileLayout' \nimport Details from '../../components/Details'\n\n\nexport default class Site extends Component {\n  \n  static async getInitialProps(ctx){\n    const { name, site } = ctx.query\n    const res = await fetch(`http://jct-systems.com/api/${name}/${site}`);\n    const json = await res.json();\n  \n    let isMobileView = ctx.req.headers['user-agent'].search(/Android|iPhone/i)\n  \n  \n    if(isMobileView < 0){\n      return {\n        isMobileView: false,\n        equipment: json[1]\n      }\n    } else {\n      return {\n        isMobileView: true,\n        equipment: json[1]\n      }\n    }\n  }\n\n  render(){\n\n    // console.log(this.props);\n\n    return(\n      <h1>HELL</h1>\n        // this.props.isMobileView ?\n        // <MobileLayout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n        //     {\n        //       this.props.equipment.map(equip => (\n        //         <Details \n        //         key={equip.id} \n        //         name={equip.name}\n        //         currentValue={equip.currentLevel}\n        //         totalValue={equip.totalLevel}\n        //         alarmOn={equip.on_level}\n        //         alarmOff={equip.off_level}\n        //         mon={equip.monValue}\n        //         tue={equip.tueValue}\n        //         wed={equip.wedValue}\n        //         thu={equip.thuValue}\n        //         fri={equip.friValue}\n        //         sat={equip.satValue}\n        //         sun={equip.sunValue}\n        //         />\n        //         ))\n        //     }\n        //   </MobileLayout>\n        // :\n        //   <Layout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n        //     {\n        //       this.props.equipment.map(equip => (\n        //         <Details \n        //         key={equip.id} \n        //         name={equip.name}\n        //         currentValue={equip.currentLevel}\n        //         totalValue={equip.totalLevel}\n        //         alarmOn={equip.on_level}\n        //         alarmOff={equip.off_level}\n        //         mon={equip.monValue}\n        //         tue={equip.tueValue}\n        //         wed={equip.wedValue}\n        //         thu={equip.thuValue}\n        //         fri={equip.friValue}\n        //         sat={equip.satValue}\n        //         sun={equip.sunValue}\n        //         />\n        //         ))\n        //     }\n        //   </Layout>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}