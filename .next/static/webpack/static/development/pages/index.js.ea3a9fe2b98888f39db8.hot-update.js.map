{"version":3,"file":"static/webpack/static/development/pages/index.js.ea3a9fe2b98888f39db8.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import styled from 'styled-components'\nimport fetch from 'isomorphic-unfetch'\n\nimport Layout from '../components/Layout'\nimport MobileLayout from '../components/MobileLayout' \nimport Details from '../components/Details'\n\nimport { BrowserView, MobileView, isBrowser, isMobile } from 'react-device-detect'\nimport useMobileDetect from 'use-mobile-detect-hook'\n\nimport { color } from '../public/screensizes'\n\n\n\nconst Home = props => {\n  return(\n    <>\n      {\n        props.isMobileView ?\n          <MobileLayout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n            {\n              props.equipment.map(equip => (\n                <Details \n                  key={equip.id} \n                  name={equip.name}\n                  currentValue={equip.currentLevel}\n                  totalValue={equip.totalLevel}\n                  alarmOn={equip.on_level}\n                  alarmOff={equip.off_level}\n                />\n              ))\n            }\n          </MobileLayout>\n        :\n          <Layout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n            {\n              props.equipment.map(equip => (\n                <Details \n                  key={equip.id} \n                  name={equip.name}\n                  currentValue={equip.currentLevel}\n                  totalValue={equip.totalLevel}\n                  alarmOn={equip.on_level}\n                  alarmOff={equip.off_level}\n                />\n              ))\n            }\n          </Layout>\n      }\n    </>\n  )\n}\n\nHome.getInitialProps =  async ctx => {\n  const { name, site } = ctx.query\n  const res = await fetch(`http://jct-systems.com/api/${name}/${site}`);\n  const json = await res.json();\n\n  console.log(json);\n\n  let isMobileView = ctx.req.headers['user-agent'].search(/Android|iPhone/i)\n\n\n  if(isMobileView < 0){\n    return {\n      isMobileView: false,\n      equipment: json[1]\n    }\n  } else {\n    return {\n      isMobileView: true,\n      equipment: json[1]\n    }\n  }\n\n}\n\nexport default Home\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAeA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAEA;AAEA;AACA;AARA;AAAA;AAAA;AAAA;AACA;AADA;AAYA;AACA;AAFA;AACA;AAZA;AAAA;AAiBA;AACA;AAFA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAuBA;;;;A","sourceRoot":""}