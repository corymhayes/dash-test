{"version":3,"file":"static/webpack/static/development/pages/test.js.d8f0190a5c76b37199fe.hot-update.js","sources":["webpack:///./pages/test/index.js"],"sourcesContent":["import { Component } from 'react'\nimport io from 'socket.io-client'\nimport fetch from 'isomorphic-unfetch'\n\nimport Layout from '../../components/Layout'\nimport MobileLayout from '../../components/MobileLayout' \nimport Details from '../../components/Details'\n\n\nexport default class Site extends Component {\n\n  static defaultProps = {\n    company: []\n  }\n\n  state = {\n    companies: []\n  }\n  \n  static async getInitialProps(ctx){\n    const { name, site } = ctx.query\n    const res = await fetch(`http://jctsystems.com/portal/test.asp`)\n    // const json = await res.json();\n    console.log(res);\n    \n    let isMobileView = ctx.req.headers['user-agent'].search(/Android|iPhone/i)\n    \n    if(isMobileView < 0){\n      return {\n        isMobileView: false,\n        equipment: json[1]\n      }\n    } else {\n      return {\n        isMobileView: true,\n        equipment: json[1]\n      }\n    }\n  }\n\n  render(){\n    return(\n        this.props.isMobileView ?\n        <MobileLayout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n            {\n              this.props.equipment.map(equip => (\n                <Details \n                  key={equip.id} \n                  name={equip.name}\n                  currentValue={equip.currentLevel}\n                  totalValue={equip.totalLevel}\n                  alarmOn={equip.on_level}\n                  alarmOff={equip.off_level}\n                  mon={equip.monValue}\n                  tue={equip.tueValue}\n                  wed={equip.wedValue}\n                  thu={equip.thuValue}\n                  fri={equip.friValue}\n                  sat={equip.satValue}\n                  sun={equip.sunValue}\n                />\n              ))\n            }\n          </MobileLayout>\n        :       \n          <Layout company_name=\"Doghouse Oil & Gas\" site_name=\"Anchor Battery\">\n            {\n              this.props.equipment.map(equip => (\n                <Details \n                  key={equip.id} \n                  name={equip.name}\n                  currentValue={equip.currentLevel}\n                  totalValue={equip.totalLevel}\n                  alarmOn={equip.on_level}\n                  alarmOff={equip.off_level}\n                  mon={equip.monValue}\n                  tue={equip.tueValue}\n                  wed={equip.wedValue}\n                  thu={equip.thuValue}\n                  fri={equip.friValue}\n                  sat={equip.satValue}\n                  sun={equip.sunValue}\n                />\n              ))\n            }\n          </Layout>          \n    )\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;AAMA;AACA;AADA;AACA;;;;;;AAwBA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAoBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAoBA;;;AApEA;;;;;;;AACA;;AACA;AACA;;AADA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AACA;AACA;AAFA;AACA;;AAIA;AACA;AACA;AAFA;AACA;;;;;;;;;;;AAzBA;AACA;AADA;AAGA;AADA;AACA;;;;;A","sourceRoot":""}